function updateFlex(){$(".flex").each(function(e,t){if($(t).data("gap")){var i=parseFloat($(t).data("gap"))/2+"px";$(t).hasClass("vertical")?($(t).children().css({"margin-top":i,"margin-bottom":i}),$(t).children().first().css("margin-top","0"),$(t).children().last().css("margin-bottom","0")):($(t).children().css({"margin-left":i,"margin-right":i}),$(t).children().first().css("margin-left","0"),$(t).children().last().css("margin-right","0"))}})}function switchTab(e){var t=e.currentTarget;$(t).siblings().removeClass("active"),$(t).addClass("active");var i="#"+$(t).data("target");$(i).siblings().addClass("hidden"),$(i).removeClass("hidden")}function carousel(e){function t(){r.hasClass("hidden")&&r.css("left",0-n).removeClass("hidden")}function i(){l.hasClass("hidden")&&l.css("left",n).removeClass("hidden")}function s(){return c.css("left")?parseFloat(c.css("left")):0}var n=$(e).width(),a=$(e).data("timing")?$(e).data("timing"):500,c=$(e).children(".active"),r=0==c.prev().length?$(e).children().last():c.prev(),l=0==c.next().length?$(e).children().first():c.next(),d=[];this.prev=r,this.active=c,this.next=l,this.showPrev=t,this.showNext=i,this.slidePrev=function(){$(e).children().length<2||(t(),$(c).moveRight(n-s(),a,function(){$(c).removeClass("active").addClass("hidden")}),$(r).moveRight(n-s(),a,function(){$(r).addClass("active"),d.forEach(function(e){e.apply(this)})}),$(l).addClass("hidden"))},this.slideNext=function(){$(e).children().length<2||(i(),$(c).moveLeft(n+s(),a,function(){$(c).removeClass("active").addClass("hidden")}),$(l).moveLeft(n+s(),a,function(){$(l).addClass("active"),d.forEach(function(e){e.apply(this)})}),$(r).addClass("hidden"))},this.afterSlide=function(e){d.push(e)}}function initCarousel(){$(".carousel").each(function(e,t){if(!($(t).children().length<2)){if(2==$(t).children().length){var i=$(t).children().first(),s=$(t).children().last();$(t).append(i.prop("outerHTML")).append(s.prop("outerHTML"))}$(t).children(".active").length<1&&$(t).children().first().addClass("active"),$(t).children(":not(.active)").addClass("hidden");var n,a=0,c=0,r=($(t).width(),0),l=0,d=0,h=!0,o=!1,f=!1;$(t).on("touchstart",function(e){if(!h)return!1;h=!1;var i=e.targetTouches[0].clientX;c=a=i,n=$(t).carousel(),n.afterSlide(function(){h=!0}),n.showPrev(),n.showNext(),r=parseFloat(n.prev.css("left")),d=parseFloat(n.next.css("left")),o=!0}),$(t).on("touchmove",function(e){if(!o)return!1;a=e.targetTouches[0].clientX;var t=a-c;n.prev.css("left",r+t),n.active.css("left",l+t),n.next.css("left",d+t),f=!0}),$(t).on("touchend",function(e){return o=!1,f?(f=!1,void(a-5>c?n.slidePrev():a+5<c?n.slideNext():(n.active.css("left",0),n.prev.addClass("hidden"),n.next.addClass("hidden"),h=!0))):(h=!0,!1)})}})}jQuery.fn.carousel=function(){var e=new carousel(this);return e},jQuery.fn.moveRight=function(e,t,i){var s=this.css("left")?parseFloat(this.css("left")):0,n=t?t:0;i?this.animate({left:s+e},n,function(){i(this)}):this.animate({left:s+e},n)},jQuery.fn.moveLeft=function(e,t,i){var s=this.css("left")?parseFloat(this.css("left")):0,n=t?t:0;i?this.animate({left:s-e},n,function(){i(this)}):this.animate({left:s-e},n)},$(document).ready(function(){initCarousel(),updateFlex(),"undefined"!=typeof Vue&&Vue.nextTick(updateFlex),$(".tab-hover").on("mouseenter",switchTab),$(".tab-click").on("click",switchTab)});